{"remainingRequest":"/Users/apple/fish-wheels/node_modules/babel-loader/lib/index.js!/Users/apple/fish-wheels/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/fish-wheels/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/fish-wheels/src/components/slides/slides.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/fish-wheels/src/components/slides/slides.vue","mtime":1592710474163},{"path":"/Users/apple/fish-wheels/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEdJY29uIGZyb20gIi4uL2ljb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgR0ljb246IEdJY29uCiAgfSwKICBwcm9wczogewogICAgc2VsZWN0ZWQ6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgYXV0b1BsYXk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGF1dG9QbGF5RGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzMDAwCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hpbGRyZW5MZW5ndGg6IDAsCiAgICAgIGxhc3RTZWxlY3RlZEluZGV4OiB1bmRlZmluZWQsCiAgICAgIHRpbWVySWQ6IHVuZGVmaW5lZCwKICAgICAgc3RhcnRUb3VjaDogdW5kZWZpbmVkCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4oKTsKCiAgICBpZiAodGhpcy5hdXRvUGxheSkgewogICAgICB0aGlzLnBsYXlBdXRvbWF0aWNhbGx5KCk7CiAgICB9CgogICAgdGhpcy5jaGlsZHJlbkxlbmd0aCA9IHRoaXMuaXRlbXMubGVuZ3RoOwogIH0sCiAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4oKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLnBhdXNlKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgc2VsZWN0ZWRJbmRleDogZnVuY3Rpb24gc2VsZWN0ZWRJbmRleCgpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5uYW1lcy5pbmRleE9mKHRoaXMuc2VsZWN0ZWQpOwogICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gMCA6IGluZGV4OwogICAgfSwKICAgIG5hbWVzOiBmdW5jdGlvbiBuYW1lcygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uICh2bSkgewogICAgICAgIHJldHVybiB2bS5uYW1lOwogICAgICB9KTsKICAgIH0sCiAgICBpdGVtczogZnVuY3Rpb24gaXRlbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKHZtKSB7CiAgICAgICAgcmV0dXJuIHZtLiRvcHRpb25zLm5hbWUgPT09ICJHdWx1U2xpZGVzSXRlbSI7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgb25Nb3VzZUVudGVyOiBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoKSB7CiAgICAgIHRoaXMucGF1c2UoKTsKICAgIH0sCiAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSgpIHsKICAgICAgdGhpcy5wbGF5QXV0b21hdGljYWxseSgpOwogICAgfSwKICAgIG9uVG91Y2hTdGFydDogZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHsKICAgICAgdGhpcy5wYXVzZSgpOwoKICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnN0YXJ0VG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB9LAogICAgb25Ub3VjaEVuZDogZnVuY3Rpb24gb25Ub3VjaEVuZChlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZW5kVG91Y2ggPSBlLmNoYW5nZWRUb3VjaGVzWzBdOwogICAgICB2YXIgX3RoaXMkc3RhcnRUb3VjaCA9IHRoaXMuc3RhcnRUb3VjaCwKICAgICAgICAgIHgxID0gX3RoaXMkc3RhcnRUb3VjaC5jbGllbnRYLAogICAgICAgICAgeTEgPSBfdGhpcyRzdGFydFRvdWNoLmNsaWVudFk7CiAgICAgIHZhciB4MiA9IGVuZFRvdWNoLmNsaWVudFgsCiAgICAgICAgICB5MiA9IGVuZFRvdWNoLmNsaWVudFk7CiAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh4MiAtIHgxLCAyKSArIE1hdGgucG93KHkyIC0geTEsIDIpKTsKICAgICAgdmFyIGRlbHRhWSA9IE1hdGguYWJzKHkyIC0geTEpOwogICAgICB2YXIgcmF0ZSA9IGRpc3RhbmNlIC8gZGVsdGFZOwoKICAgICAgaWYgKHJhdGUgPiAyKSB7CiAgICAgICAgaWYgKHgyID4geDEpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRJbmRleCAtIDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkSW5kZXggKyAxKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5wbGF5QXV0b21hdGljYWxseSgpOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNsaWNrUHJldjogZnVuY3Rpb24gb25DbGlja1ByZXYoKSB7CiAgICAgIHRoaXMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRJbmRleCAtIDEpOwogICAgfSwKICAgIG9uQ2xpY2tOZXh0OiBmdW5jdGlvbiBvbkNsaWNrTmV4dCgpIHsKICAgICAgdGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZEluZGV4ICsgMSk7CiAgICB9LAogICAgcGxheUF1dG9tYXRpY2FsbHk6IGZ1bmN0aW9uIHBsYXlBdXRvbWF0aWNhbGx5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnRpbWVySWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBydW4gPSBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgdmFyIGluZGV4ID0gX3RoaXMyLm5hbWVzLmluZGV4T2YoX3RoaXMyLmdldFNlbGVjdGVkKCkpOwoKICAgICAgICB2YXIgbmV3SW5kZXggPSBpbmRleCArIDE7CgogICAgICAgIF90aGlzMi5zZWxlY3QobmV3SW5kZXgpOyAvLyDlkYror4nlpJbnlYzpgInkuK0gbmV3SW5kZXgKCgogICAgICAgIF90aGlzMi50aW1lcklkID0gc2V0VGltZW91dChydW4sIF90aGlzMi5hdXRvUGxheURlbGF5KTsKICAgICAgfTsKCiAgICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQocnVuLCB0aGlzLmF1dG9QbGF5RGVsYXkpOwogICAgfSwKICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHsKICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVySWQpOwogICAgICB0aGlzLnRpbWVySWQgPSB1bmRlZmluZWQ7CiAgICB9LAogICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QobmV3SW5kZXgpIHsKICAgICAgdGhpcy5sYXN0U2VsZWN0ZWRJbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleDsKCiAgICAgIGlmIChuZXdJbmRleCA9PT0gLTEpIHsKICAgICAgICBuZXdJbmRleCA9IHRoaXMubmFtZXMubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKG5ld0luZGV4ID09PSB0aGlzLm5hbWVzLmxlbmd0aCkgewogICAgICAgIG5ld0luZGV4ID0gMDsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOnNlbGVjdGVkIiwgdGhpcy5uYW1lc1tuZXdJbmRleF0pOwogICAgfSwKICAgIGdldFNlbGVjdGVkOiBmdW5jdGlvbiBnZXRTZWxlY3RlZCgpIHsKICAgICAgdmFyIGZpcnN0ID0gdGhpcy5pdGVtc1swXTsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQgfHwgZmlyc3QubmFtZTsKICAgIH0sCiAgICB1cGRhdGVDaGlsZHJlbjogZnVuY3Rpb24gdXBkYXRlQ2hpbGRyZW4oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5nZXRTZWxlY3RlZCgpOwogICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHZtKSB7CiAgICAgICAgdmFyIHJldmVyc2UgPSBfdGhpczMuc2VsZWN0ZWRJbmRleCA+IF90aGlzMy5sYXN0U2VsZWN0ZWRJbmRleCA/IGZhbHNlIDogdHJ1ZTsKCiAgICAgICAgaWYgKF90aGlzMy50aW1lcklkKSB7CiAgICAgICAgICBpZiAoX3RoaXMzLmxhc3RTZWxlY3RlZEluZGV4ID09PSBfdGhpczMuaXRlbXMubGVuZ3RoIC0gMSAmJiBfdGhpczMuc2VsZWN0ZWRJbmRleCA9PT0gMCkgewogICAgICAgICAgICByZXZlcnNlID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzMy5sYXN0U2VsZWN0ZWRJbmRleCA9PT0gMCAmJiBfdGhpczMuc2VsZWN0ZWRJbmRleCA9PT0gX3RoaXMzLml0ZW1zLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgcmV2ZXJzZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2bS5yZXZlcnNlID0gcmV2ZXJzZTsKCiAgICAgICAgX3RoaXMzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2bS5zZWxlY3RlZCA9IHNlbGVjdGVkOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["slides.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"g-slides\"\n    @mouseenter=\"onMouseEnter\"\n    @mouseleave=\"onMouseLeave\"\n    @touchstart=\"onTouchStart\"\n    @touchend=\"onTouchEnd\"\n  >\n    <div class=\"g-slides-window\" ref=\"window\">\n      <div class=\"g-slides-wrapper\">\n        <slot></slot>\n      </div>\n    </div>\n    <div class=\"g-slides-dots\">\n      <span @click=\"onClickPrev\" data-action=\"prev\">\n        <g-icon name=\"left\"></g-icon>\n      </span>\n      <span\n        v-for=\"n in childrenLength\"\n        :class=\"{active: selectedIndex === n-1}\"\n        :key=\"n\"\n        :data-index=\"n-1\"\n        @click=\"select(n-1)\"\n      >{{n}}</span>\n      <span @click=\"onClickNext\" data-action=\"next\">\n        <g-icon name=\"right\"></g-icon>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GIcon from \"../icon\";\nexport default {\n  components: { GIcon },\n  props: {\n    selected: {\n      type: String\n    },\n    autoPlay: {\n      type: Boolean,\n      default: true\n    },\n    autoPlayDelay: {\n      type: Number,\n      default: 3000\n    }\n  },\n  data() {\n    return {\n      childrenLength: 0,\n      lastSelectedIndex: undefined,\n      timerId: undefined,\n      startTouch: undefined\n    };\n  },\n  mounted() {\n    this.updateChildren();\n    if (this.autoPlay) {\n      this.playAutomatically();\n    }\n    this.childrenLength = this.items.length;\n  },\n  updated() {\n    this.updateChildren();\n  },\n  beforeDestroy() {\n    this.pause();\n  },\n  computed: {\n    selectedIndex() {\n      let index = this.names.indexOf(this.selected);\n      return index === -1 ? 0 : index;\n    },\n    names() {\n      return this.items.map(vm => vm.name);\n    },\n    items() {\n      return this.$children.filter(vm => vm.$options.name === \"GuluSlidesItem\");\n    }\n  },\n  methods: {\n    onMouseEnter() {\n      this.pause();\n    },\n    onMouseLeave() {\n      this.playAutomatically();\n    },\n    onTouchStart(e) {\n      this.pause();\n      if (e.touches.length > 1) {\n        return;\n      }\n      this.startTouch = e.touches[0];\n    },\n    onTouchEnd(e) {\n      let endTouch = e.changedTouches[0];\n      let { clientX: x1, clientY: y1 } = this.startTouch;\n      let { clientX: x2, clientY: y2 } = endTouch;\n\n      let distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n      let deltaY = Math.abs(y2 - y1);\n      let rate = distance / deltaY;\n      if (rate > 2) {\n        if (x2 > x1) {\n          this.select(this.selectedIndex - 1);\n        } else {\n          this.select(this.selectedIndex + 1);\n        }\n      }\n      this.$nextTick(() => {\n        this.playAutomatically();\n      });\n    },\n    onClickPrev() {\n      this.select(this.selectedIndex - 1);\n    },\n    onClickNext() {\n      this.select(this.selectedIndex + 1);\n    },\n    playAutomatically() {\n      if (this.timerId) {\n        return;\n      }\n      let run = () => {\n        let index = this.names.indexOf(this.getSelected());\n        let newIndex = index + 1;\n        this.select(newIndex); // 告诉外界选中 newIndex\n        this.timerId = setTimeout(run, this.autoPlayDelay);\n      };\n      this.timerId = setTimeout(run, this.autoPlayDelay);\n    },\n    pause() {\n      window.clearTimeout(this.timerId);\n      this.timerId = undefined;\n    },\n    select(newIndex) {\n      this.lastSelectedIndex = this.selectedIndex;\n      if (newIndex === -1) {\n        newIndex = this.names.length - 1;\n      }\n      if (newIndex === this.names.length) {\n        newIndex = 0;\n      }\n      this.$emit(\"update:selected\", this.names[newIndex]);\n    },\n    getSelected() {\n      let first = this.items[0];\n      return this.selected || first.name;\n    },\n    updateChildren() {\n      let selected = this.getSelected();\n      this.items.forEach(vm => {\n        let reverse =\n          this.selectedIndex > this.lastSelectedIndex ? false : true;\n        if (this.timerId) {\n          if (\n            this.lastSelectedIndex === this.items.length - 1 &&\n            this.selectedIndex === 0\n          ) {\n            reverse = false;\n          }\n          if (\n            this.lastSelectedIndex === 0 &&\n            this.selectedIndex === this.items.length - 1\n          ) {\n            reverse = true;\n          }\n        }\n        vm.reverse = reverse;\n        this.$nextTick(() => {\n          vm.selected = selected;\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$border-color-hover: #666;\n$border-color: #999;\n$border-color-light: lighten($border-color, 30%);\n$border-radius: 4px;\n$box-shadow-color: rgba(0, 0, 0, 0.5);\n$button-active-bg: #eee;\n$button-bg: white;\n$button-height: 32px;\n$color: #333;\n$light-color: #666;\n$font-size: 14px;\n$small-font-size: 12px;\n$input-height: 32px;\n$red: #f1453d;\n$grey: #eee;\n$blue: #4a90e2;\n.box-shadow {\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);\n}\n.g-slides {\n  &-window {\n    overflow: hidden;\n  }\n  &-wrapper {\n    position: relative;\n  }\n  &-dots {\n    padding: 8px 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    > span {\n      width: 20px;\n      height: 20px;\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n      background: #ddd;\n      border-radius: 50%;\n      margin: 0 8px;\n      font-size: 12px;\n      &:hover {\n        cursor: pointer;\n      }\n      &.active {\n        background: #aaa;\n        color: white;\n        &:hover {\n          cursor: default;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/slides"}]}