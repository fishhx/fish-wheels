{"remainingRequest":"/Users/apple/fish-wheels/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/apple/fish-wheels/src/components/popover.vue?vue&type=style&index=0&id=3fd40e45&scoped=true&lang=scss&","dependencies":[{"path":"/Users/apple/fish-wheels/src/components/popover.vue","mtime":1592388609749},{"path":"/Users/apple/fish-wheels/node_modules/_css-loader@2.1.1@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiRib3JkZXItY29sb3I6ICMzMzM7CiRib3JkZXItcmFkaXVzOiA0cHg7Ci5wb3BvdmVyIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgdmVydGljYWwtYWxpZ246IHRvcDsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLmNvbnRlbnQtd3JhcHBlciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvcmRlcjogMXB4IHNvbGlkICRib3JkZXItY29sb3I7CiAgYm9yZGVyLXJhZGl1czogJGJvcmRlci1yYWRpdXM7CiAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjUpKTsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBwYWRkaW5nOiAuNWVtIDFlbTsKICBtYXgtd2lkdGg6IDIwZW07CiAgd29yZC1icmVhazogYnJlYWstYWxsOwogICY6OmJlZm9yZSwgJjo6YWZ0ZXIgewogICAgY29udGVudDogJyc7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJvcmRlcjogMTBweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgIHdpZHRoOiAwOwogICAgaGVpZ2h0OiAwOwogICAgcG9zaXRpb246IGFic29sdXRlOwogIH0KICAmLnBvc2l0aW9uLXRvcCB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpOwogICAgbWFyZ2luLXRvcDogLTEwcHg7CiAgICAmOjpiZWZvcmUsICY6OmFmdGVyIHsKICAgICAgbGVmdDogMTBweDsKICAgIH0KICAgICY6OmJlZm9yZSB7CiAgICAgIGJvcmRlci10b3AtY29sb3I6IGJsYWNrOwogICAgICBib3JkZXItYm90dG9tOiBub25lOwogICAgICB0b3A6IDEwMCU7CiAgICB9CiAgICAmOjphZnRlciB7CiAgICAgIGJvcmRlci10b3AtY29sb3I6IHdoaXRlOwogICAgICBib3JkZXItYm90dG9tOiBub25lOwogICAgICB0b3A6IGNhbGMoMTAwJSAtIDFweCk7CiAgICB9CiAgfQogICYucG9zaXRpb24tYm90dG9tIHsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAmOjpiZWZvcmUsICY6OmFmdGVyIHsKICAgICAgbGVmdDogMTBweDsKICAgIH0KICAgICY6OmJlZm9yZSB7CiAgICAgIGJvcmRlci10b3A6IG5vbmU7CiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IGJsYWNrOwogICAgICBib3R0b206IDEwMCU7CiAgICB9CiAgICAmOjphZnRlciB7CiAgICAgIGJvcmRlci10b3A6IG5vbmU7CiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHdoaXRlOwogICAgICBib3R0b206IGNhbGMoMTAwJSAtIDFweCk7CiAgICB9CiAgfQogICYucG9zaXRpb24tbGVmdCB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOwogICAgbWFyZ2luLWxlZnQ6IC0xMHB4OwogICAgJjo6YmVmb3JlLCAmOjphZnRlciB7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKICAgICAgdG9wOiA1MCU7CiAgICB9CiAgICAmOjpiZWZvcmUgewogICAgICBib3JkZXItbGVmdC1jb2xvcjogYmxhY2s7CiAgICAgIGJvcmRlci1yaWdodDogbm9uZTsKICAgICAgbGVmdDogMTAwJTsKICAgIH0KICAgICY6OmFmdGVyIHsKICAgICAgYm9yZGVyLWxlZnQtY29sb3I6IHdoaXRlOwogICAgICBib3JkZXItcmlnaHQ6IG5vbmU7CiAgICAgIGxlZnQ6IGNhbGMoMTAwJSAtIDFweCk7CiAgICB9CiAgfQogICYucG9zaXRpb24tcmlnaHQgewogICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAmOjpiZWZvcmUsICY6OmFmdGVyIHsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgICB0b3A6IDUwJTsKICAgIH0KICAgICY6OmJlZm9yZSB7CiAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogYmxhY2s7CiAgICAgIGJvcmRlci1sZWZ0OiBub25lOwogICAgICByaWdodDogMTAwJTsKICAgIH0KICAgICY6OmFmdGVyIHsKICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB3aGl0ZTsKICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7CiAgICAgIHJpZ2h0OiBjYWxjKDEwMCUgLSAxcHgpOwogICAgfQogIH0KfQo="},{"version":3,"sources":["popover.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"popover.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"popover\" ref=\"popover\">\n    <div ref=\"contentWrapper\" class=\"content-wrapper\" v-if=\"visible\"\n      :class=\"{[`position-${position}`]:true}\">\n      <slot name=\"content\" :close=\"close\"></slot>\n    </div>\n    <span ref=\"triggerWrapper\" style=\"display: inline-block;\">\n      <slot></slot>\n    </span>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"GuluPopover\",\n    props: {\n      position: {\n        type: String,\n        default: 'top',\n        validator (value) {\n          return ['top', 'bottom', 'left', 'right'].indexOf(value) >= 0\n        }\n      },\n      trigger: {\n        type: String,\n        default: 'click',\n        validator (value) {\n          return ['click', 'hover'].indexOf(value) >= 0\n        }\n      }\n    },\n    data () {\n      return {\n        visible: false,\n      }\n    },\n    mounted () {\n      this.addPopoverListeners()\n    },\n    beforeDestroy () {\n      this.putBackContent()\n      this.removePopoverListeners()\n    },\n    computed: {\n      openEvent () {\n        if (this.trigger === 'click') {\n          return 'click'\n        } else {\n          return 'mouseenter'\n        }\n      },\n      closeEvent () {\n        if (this.trigger === 'click') {\n          return 'click'\n        } else {\n          return 'mouseleave'\n        }\n      }\n    },\n    methods: {\n      addPopoverListeners(){\n        if (this.trigger === 'click') {\n          this.$refs.popover.addEventListener('click', this.onClick)\n        } else {\n          this.$refs.popover.addEventListener('mouseenter', this.open)\n          this.$refs.popover.addEventListener('mouseleave', this.close)\n        }\n      },\n      removePopoverListeners(){\n        if (this.trigger === 'click') {\n          this.$refs.popover.removeEventListener('click', this.onClick)\n        } else {\n          this.$refs.popover.removeEventListener('mouseenter', this.open)\n          this.$refs.popover.removeEventListener('mouseleave', this.close)\n        }\n      },\n      putBackContent(){\n        const {contentWrapper, popover} = this.$refs\n        if(!contentWrapper){return}\n        popover.appendChild(contentWrapper)\n      },\n      positionContent () {\n        const {contentWrapper, triggerWrapper} = this.$refs\n        document.body.appendChild(contentWrapper)\n        const {width, height, top, left} = triggerWrapper.getBoundingClientRect()\n        const {height: height2} = contentWrapper.getBoundingClientRect()\n        let positions = {\n          top: {top: top + window.scrollY, left: left + window.scrollX,},\n          bottom: {top: top + height + window.scrollY, left: left + window.scrollX},\n          left: {\n            top: top + window.scrollY + (height - height2) / 2,\n            left: left + window.scrollX\n          },\n          right: {\n            top: top + window.scrollY + (height - height2) / 2,\n            left: left + window.scrollX + width\n          },\n        }\n        contentWrapper.style.left = positions[this.position].left + 'px'\n        contentWrapper.style.top = positions[this.position].top + 'px'\n\n      },\n      onClickDocument (e) {\n        if (this.$refs.popover &&\n          (this.$refs.popover === e.target || this.$refs.popover.contains(e.target))\n        ) { return }\n        if (this.$refs.contentWrapper &&\n          (this.$refs.contentWrapper === e.target || this.$refs.contentWrapper.contains(e.target))\n        ) { return }\n        this.close()\n      },\n      open () {\n        this.visible = true\n        this.$nextTick(() => {\n          this.positionContent()\n          document.addEventListener('click', this.onClickDocument)\n        })\n      },\n      close () {\n        this.visible = false\n        document.removeEventListener('click', this.onClickDocument)\n      },\n      onClick (event) {\n        if (this.$refs.triggerWrapper.contains(event.target)) {\n          if (this.visible === true) {\n            this.close()\n          } else {\n            this.open()\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  $border-color: #333;\n  $border-radius: 4px;\n  .popover {\n    display: inline-block;\n    vertical-align: top;\n    position: relative;\n  }\n  .content-wrapper {\n    position: absolute;\n    border: 1px solid $border-color;\n    border-radius: $border-radius;\n    filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.5));\n    background: white;\n    padding: .5em 1em;\n    max-width: 20em;\n    word-break: break-all;\n    &::before, &::after {\n      content: '';\n      display: block;\n      border: 10px solid transparent;\n      width: 0;\n      height: 0;\n      position: absolute;\n    }\n    &.position-top {\n      transform: translateY(-100%);\n      margin-top: -10px;\n      &::before, &::after {\n        left: 10px;\n      }\n      &::before {\n        border-top-color: black;\n        border-bottom: none;\n        top: 100%;\n      }\n      &::after {\n        border-top-color: white;\n        border-bottom: none;\n        top: calc(100% - 1px);\n      }\n    }\n    &.position-bottom {\n      margin-top: 10px;\n      &::before, &::after {\n        left: 10px;\n      }\n      &::before {\n        border-top: none;\n        border-bottom-color: black;\n        bottom: 100%;\n      }\n      &::after {\n        border-top: none;\n        border-bottom-color: white;\n        bottom: calc(100% - 1px);\n      }\n    }\n    &.position-left {\n      transform: translateX(-100%);\n      margin-left: -10px;\n      &::before, &::after {\n        transform: translateY(-50%);\n        top: 50%;\n      }\n      &::before {\n        border-left-color: black;\n        border-right: none;\n        left: 100%;\n      }\n      &::after {\n        border-left-color: white;\n        border-right: none;\n        left: calc(100% - 1px);\n      }\n    }\n    &.position-right {\n      margin-left: 10px;\n      &::before, &::after {\n        transform: translateY(-50%);\n        top: 50%;\n      }\n      &::before {\n        border-right-color: black;\n        border-left: none;\n        right: 100%;\n      }\n      &::after {\n        border-right-color: white;\n        border-left: none;\n        right: calc(100% - 1px);\n      }\n    }\n  }\n</style>\n"]}]}