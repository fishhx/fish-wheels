{"remainingRequest":"/Users/apple/fish-wheels/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js??ref--3-1!/Users/apple/fish-wheels/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/apple/fish-wheels/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/apple/fish-wheels/src/components/pager.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/fish-wheels/src/components/pager.vue","mtime":1592709827334},{"path":"/Users/apple/fish-wheels/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgR0ljb24gZnJvbSAiLi9pY29uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHdWx1UGFnZXIiLAogIGNvbXBvbmVudHM6IHsKICAgIEdJY29uOiBHSWNvbgogIH0sCiAgcHJvcHM6IHsKICAgIHRvdGFsUGFnZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgY3VycmVudFBhZ2U6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2VzOiBmdW5jdGlvbiBwYWdlcygpIHsKICAgICAgdmFyIHBhZ2VzID0gWzEsIHRoaXMudG90YWxQYWdlLCB0aGlzLmN1cnJlbnRQYWdlXTsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPiAxKSBwYWdlcy5wdXNoKHRoaXMuY3VycmVudFBhZ2UgLSAxKTsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPiAyKSBwYWdlcy5wdXNoKHRoaXMuY3VycmVudFBhZ2UgLSAxKTsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPCB0aGlzLnRvdGFsUGFnZSkgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRQYWdlICsgMSk7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy50b3RhbFBhZ2UgLSAxKSBwYWdlcy5wdXNoKHRoaXMuY3VycmVudFBhZ2UgKyAyKTsKICAgICAgdmFyIHUgPSB1bmlxdWUocGFnZXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgfSkpOwogICAgICB2YXIgdTIgPSB1LnJlZHVjZShmdW5jdGlvbiAocHJlLCBjdXJyZW50LCBpbmRleCkgewogICAgICAgIHByZS5wdXNoKGN1cnJlbnQpOwoKICAgICAgICBpZiAodVtpbmRleCArIDFdICYmIHVbaW5kZXggKyAxXSAtIHVbaW5kZXhdID4gMSkgewogICAgICAgICAgcHJlLnB1c2goIi4uLiIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHByZTsKICAgICAgfSwgW10pOwogICAgICByZXR1cm4gdTI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrUGFnZTogZnVuY3Rpb24gb25DbGlja1BhZ2UocGFnZSkgewogICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRQYWdlKHBhZ2UpOwogICAgfSwKICAgIHR1cm5OZXh0OiBmdW5jdGlvbiB0dXJuTmV4dCgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPCB0aGlzLnRvdGFsUGFnZSkgewogICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFBhZ2UodGhpcy5jdXJyZW50UGFnZSArIDEpOwogICAgICB9CiAgICB9LAogICAgdHVybkxhc3Q6IGZ1bmN0aW9uIHR1cm5MYXN0KCkgewogICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IDEpIHsKICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRQYWdlKHRoaXMuY3VycmVudFBhZ2UgLSAxKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUN1cnJlbnRQYWdlOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50UGFnZShjdXJyZW50UGFnZSkgewogICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6Y3VycmVudFBhZ2UiLCBjdXJyZW50UGFnZSk7CiAgICB9CiAgfQp9OyAvLyDljrvph40KCmZ1bmN0aW9uIHVuaXF1ZShhcnJheSkgewogIHZhciBvYmplY3QgPSB7fTsKICBhcnJheS5tYXAoZnVuY3Rpb24gKG51bWJlcikgewogICAgb2JqZWN0W251bWJlcl0gPSB0cnVlOwogIH0pOwogIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLm1hcChmdW5jdGlvbiAocykgewogICAgcmV0dXJuIHBhcnNlSW50KHMsIDEwKTsKICB9KTsKfQ=="},{"version":3,"sources":["pager.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,KAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA,KADA;AAKA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAHA;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,EAAA,KAAA,SAAA,EAAA,KAAA,WAAA,CAAA;AACA,UAAA,KAAA,WAAA,GAAA,CAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA;AACA,UAAA,KAAA,WAAA,GAAA,CAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA;AACA,UAAA,KAAA,WAAA,GAAA,KAAA,SAAA,EAAA,KAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA;AACA,UAAA,KAAA,WAAA,GAAA,KAAA,SAAA,GAAA,CAAA,EACA,KAAA,CAAA,IAAA,CAAA,KAAA,WAAA,GAAA,CAAA;AAEA,UAAA,CAAA,GAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,eAAA,CAAA,GAAA,CAAA;AAAA,OAAA,CAAA,CAAA;AACA,UAAA,EAAA,GAAA,CAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA,OAAA,EAAA,KAAA,EAAA;AACA,QAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AACA,YAAA,CAAA,CAAA,KAAA,GAAA,CAAA,CAAA,IAAA,CAAA,CAAA,KAAA,GAAA,CAAA,CAAA,GAAA,CAAA,CAAA,KAAA,CAAA,GAAA,CAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA;;AACA,eAAA,GAAA;AACA,OANA,EAMA,EANA,CAAA;AAOA,aAAA,EAAA;AACA;AAlBA,GAbA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,IADA,EACA;AACA,WAAA,iBAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,UAAA,KAAA,WAAA,GAAA,KAAA,SAAA,EAAA;AACA,aAAA,iBAAA,CAAA,KAAA,WAAA,GAAA,CAAA;AACA;AACA,KARA;AASA,IAAA,QATA,sBASA;AACA,UAAA,KAAA,WAAA,GAAA,CAAA,EAAA;AACA,aAAA,iBAAA,CAAA,KAAA,WAAA,GAAA,CAAA;AACA;AACA,KAbA;AAcA,IAAA,iBAdA,6BAcA,WAdA,EAcA;AACA,WAAA,KAAA,CAAA,oBAAA,EAAA,WAAA;AACA;AAhBA;AAjCA,CAAA,C,CAqDA;;AACA,SAAA,MAAA,CAAA,KAAA,EAAA;AACA,MAAA,MAAA,GAAA,EAAA;AACA,EAAA,KAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA;AACA,IAAA,MAAA,CAAA,MAAA,CAAA,GAAA,IAAA;AACA,GAFA;AAGA,SAAA,MAAA,CAAA,IAAA,CAAA,MAAA,EAAA,GAAA,CAAA,UAAA,CAAA;AAAA,WAAA,QAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AAAA,GAAA,CAAA;AACA","sourcesContent":["<template>\n  <div class=\"g-pager\">\n    <span class=\"pager-item direction\" @click=\"turnLast\">\n      <g-icon :name=\"'left'\"></g-icon>\n    </span>\n    <template v-for=\"page in pages\">\n      <template v-if=\"page===currentPage\">\n        <span class=\"pager-item\" :class=\"{selected:page===currentPage}\" :data-page=\"page\">{{page}}</span>\n      </template>\n      <template v-else-if=\"page==='...'\">\n        <span class=\"pager-item\" :class=\"{separator:page==='...'}\">\n          <g-icon :name=\"'ellipsis'\"></g-icon>\n        </span>\n      </template>\n      <template v-else>\n        <span class=\"pager-item\" @click=\"onClickPage(page)\" :data-page=\"page\">{{page}}</span>\n      </template>\n    </template>\n    <span class=\"pager-item direction\" @click=\"turnNext\">\n      <g-icon :name=\"'right'\"></g-icon>\n    </span>\n  </div>\n</template>\n\n<script>\nimport GIcon from \"./icon\";\n\nexport default {\n  name: \"GuluPager\",\n  components: { GIcon },\n  props: {\n    totalPage: {\n      type: Number,\n      required: true\n    },\n    currentPage: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    pages() {\n      let pages = [1, this.totalPage, this.currentPage];\n      if (this.currentPage > 1) pages.push(this.currentPage - 1);\n      if (this.currentPage > 2) pages.push(this.currentPage - 1);\n      if (this.currentPage < this.totalPage) pages.push(this.currentPage + 1);\n      if (this.currentPage < this.totalPage - 1)\n        pages.push(this.currentPage + 2);\n\n      let u = unique(pages.sort((a, b) => a - b));\n      let u2 = u.reduce((pre, current, index) => {\n        pre.push(current);\n        if (u[index + 1] && u[index + 1] - u[index] > 1) {\n          pre.push(\"...\");\n        }\n        return pre;\n      }, []);\n      return u2;\n    }\n  },\n  methods: {\n    onClickPage(page) {\n      this.updateCurrentPage(page);\n    },\n    turnNext() {\n      if (this.currentPage < this.totalPage) {\n        this.updateCurrentPage(this.currentPage + 1);\n      }\n    },\n    turnLast() {\n      if (this.currentPage > 1) {\n        this.updateCurrentPage(this.currentPage - 1);\n      }\n    },\n    updateCurrentPage(currentPage) {\n      this.$emit(\"update:currentPage\", currentPage);\n    }\n  }\n};\n\n// 去重\nfunction unique(array) {\n  const object = {};\n  array.map(number => {\n    object[number] = true;\n  });\n  return Object.keys(object).map(s => parseInt(s, 10));\n}\n</script>\n\n<style scoped lang=\"scss\">\n$border-color-hover: #666;\n$border-color: #999;\n$border-color-light: lighten($border-color, 30%);\n$border-radius: 4px;\n$box-shadow-color: rgba(0, 0, 0, 0.5);\n$button-active-bg: #eee;\n$button-bg: white;\n$button-height: 32px;\n$color: #333;\n$light-color: #666;\n$font-size: 14px;\n$small-font-size: 12px;\n$input-height: 32px;\n$red: #f1453d;\n$grey: #eee;\n$blue: #4a90e2;\n.box-shadow {\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);\n}\n\n.g-pager {\n  display: flex;\n  flex-direction: row;\n  margin: 0 auto;\n\n  > .pager-item {\n    border: 1px solid $grey;\n    border-radius: $border-radius;\n    min-width: 24px;\n    text-align: center;\n    margin: 5px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n\n    &.selected,\n    &:hover {\n      border-color: #aaa;\n    }\n\n    &.selected,\n    .separator {\n      cursor: default;\n    }\n\n    &.direction {\n      margin-left: 0px;\n      margin-right: 0px;\n      border: none;\n\n      > svg {\n        width: 20px;\n        height: 20px;\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/components"}]}