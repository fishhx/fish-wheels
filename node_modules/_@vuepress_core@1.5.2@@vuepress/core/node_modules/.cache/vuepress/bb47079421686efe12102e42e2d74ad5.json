{"remainingRequest":"/Users/apple/fish-wheels/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!/Users/apple/fish-wheels/src/components/pager.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/fish-wheels/src/components/pager.vue","mtime":1592709827334},{"path":"/Users/apple/fish-wheels/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_cache-loader@3.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/fish-wheels/node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHSWNvbiBmcm9tICIuL2ljb24iOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHdWx1UGFnZXIiLAogIGNvbXBvbmVudHM6IHsgR0ljb24gfSwKICBwcm9wczogewogICAgdG90YWxQYWdlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjdXJyZW50UGFnZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgcGFnZXMoKSB7CiAgICAgIGxldCBwYWdlcyA9IFsxLCB0aGlzLnRvdGFsUGFnZSwgdGhpcy5jdXJyZW50UGFnZV07CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gMSkgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRQYWdlIC0gMSk7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gMikgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRQYWdlIC0gMSk7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy50b3RhbFBhZ2UpIHBhZ2VzLnB1c2godGhpcy5jdXJyZW50UGFnZSArIDEpOwogICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA8IHRoaXMudG90YWxQYWdlIC0gMSkKICAgICAgICBwYWdlcy5wdXNoKHRoaXMuY3VycmVudFBhZ2UgKyAyKTsKCiAgICAgIGxldCB1ID0gdW5pcXVlKHBhZ2VzLnNvcnQoKGEsIGIpID0+IGEgLSBiKSk7CiAgICAgIGxldCB1MiA9IHUucmVkdWNlKChwcmUsIGN1cnJlbnQsIGluZGV4KSA9PiB7CiAgICAgICAgcHJlLnB1c2goY3VycmVudCk7CiAgICAgICAgaWYgKHVbaW5kZXggKyAxXSAmJiB1W2luZGV4ICsgMV0gLSB1W2luZGV4XSA+IDEpIHsKICAgICAgICAgIHByZS5wdXNoKCIuLi4iKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHByZTsKICAgICAgfSwgW10pOwogICAgICByZXR1cm4gdTI7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrUGFnZShwYWdlKSB7CiAgICAgIHRoaXMudXBkYXRlQ3VycmVudFBhZ2UocGFnZSk7CiAgICB9LAogICAgdHVybk5leHQoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy50b3RhbFBhZ2UpIHsKICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRQYWdlKHRoaXMuY3VycmVudFBhZ2UgKyAxKTsKICAgICAgfQogICAgfSwKICAgIHR1cm5MYXN0KCkgewogICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IDEpIHsKICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRQYWdlKHRoaXMuY3VycmVudFBhZ2UgLSAxKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlKSB7CiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpjdXJyZW50UGFnZSIsIGN1cnJlbnRQYWdlKTsKICAgIH0KICB9Cn07CgovLyDljrvph40KZnVuY3Rpb24gdW5pcXVlKGFycmF5KSB7CiAgY29uc3Qgb2JqZWN0ID0ge307CiAgYXJyYXkubWFwKG51bWJlciA9PiB7CiAgICBvYmplY3RbbnVtYmVyXSA9IHRydWU7CiAgfSk7CiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkubWFwKHMgPT4gcGFyc2VJbnQocywgMTApKTsKfQo="},{"version":3,"sources":["pager.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pager.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"g-pager\">\n    <span class=\"pager-item direction\" @click=\"turnLast\">\n      <g-icon :name=\"'left'\"></g-icon>\n    </span>\n    <template v-for=\"page in pages\">\n      <template v-if=\"page===currentPage\">\n        <span class=\"pager-item\" :class=\"{selected:page===currentPage}\" :data-page=\"page\">{{page}}</span>\n      </template>\n      <template v-else-if=\"page==='...'\">\n        <span class=\"pager-item\" :class=\"{separator:page==='...'}\">\n          <g-icon :name=\"'ellipsis'\"></g-icon>\n        </span>\n      </template>\n      <template v-else>\n        <span class=\"pager-item\" @click=\"onClickPage(page)\" :data-page=\"page\">{{page}}</span>\n      </template>\n    </template>\n    <span class=\"pager-item direction\" @click=\"turnNext\">\n      <g-icon :name=\"'right'\"></g-icon>\n    </span>\n  </div>\n</template>\n\n<script>\nimport GIcon from \"./icon\";\n\nexport default {\n  name: \"GuluPager\",\n  components: { GIcon },\n  props: {\n    totalPage: {\n      type: Number,\n      required: true\n    },\n    currentPage: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    pages() {\n      let pages = [1, this.totalPage, this.currentPage];\n      if (this.currentPage > 1) pages.push(this.currentPage - 1);\n      if (this.currentPage > 2) pages.push(this.currentPage - 1);\n      if (this.currentPage < this.totalPage) pages.push(this.currentPage + 1);\n      if (this.currentPage < this.totalPage - 1)\n        pages.push(this.currentPage + 2);\n\n      let u = unique(pages.sort((a, b) => a - b));\n      let u2 = u.reduce((pre, current, index) => {\n        pre.push(current);\n        if (u[index + 1] && u[index + 1] - u[index] > 1) {\n          pre.push(\"...\");\n        }\n        return pre;\n      }, []);\n      return u2;\n    }\n  },\n  methods: {\n    onClickPage(page) {\n      this.updateCurrentPage(page);\n    },\n    turnNext() {\n      if (this.currentPage < this.totalPage) {\n        this.updateCurrentPage(this.currentPage + 1);\n      }\n    },\n    turnLast() {\n      if (this.currentPage > 1) {\n        this.updateCurrentPage(this.currentPage - 1);\n      }\n    },\n    updateCurrentPage(currentPage) {\n      this.$emit(\"update:currentPage\", currentPage);\n    }\n  }\n};\n\n// 去重\nfunction unique(array) {\n  const object = {};\n  array.map(number => {\n    object[number] = true;\n  });\n  return Object.keys(object).map(s => parseInt(s, 10));\n}\n</script>\n\n<style scoped lang=\"scss\">\n$border-color-hover: #666;\n$border-color: #999;\n$border-color-light: lighten($border-color, 30%);\n$border-radius: 4px;\n$box-shadow-color: rgba(0, 0, 0, 0.5);\n$button-active-bg: #eee;\n$button-bg: white;\n$button-height: 32px;\n$color: #333;\n$light-color: #666;\n$font-size: 14px;\n$small-font-size: 12px;\n$input-height: 32px;\n$red: #f1453d;\n$grey: #eee;\n$blue: #4a90e2;\n.box-shadow {\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);\n}\n\n.g-pager {\n  display: flex;\n  flex-direction: row;\n  margin: 0 auto;\n\n  > .pager-item {\n    border: 1px solid $grey;\n    border-radius: $border-radius;\n    min-width: 24px;\n    text-align: center;\n    margin: 5px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    user-select: none;\n\n    &.selected,\n    &:hover {\n      border-color: #aaa;\n    }\n\n    &.selected,\n    .separator {\n      cursor: default;\n    }\n\n    &.direction {\n      margin-left: 0px;\n      margin-right: 0px;\n      border: none;\n\n      > svg {\n        width: 20px;\n        height: 20px;\n      }\n    }\n  }\n}\n</style>"]}]}